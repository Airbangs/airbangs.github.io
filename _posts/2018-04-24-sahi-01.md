---
layout: post
title: SAHI学习（持续更新）
date: 2018-04-24
categories: blog
tags: [学习，记录]
description: 好记性不如烂笔头。
---



2018年4月24日 19:56:00
一、安装
1.安装jdk；
2.先到官网下载链接去下载安装包：http://sahipro.com/downloads-archive/。按照默认步骤安装，安装好后需要去官网注册一个证书，导入安装好的程序里。
二、启动
Windows:
1.双击桌面快捷方式；
2.开始 - >所有程序 -> Sahi Pro - >启动Sahi（单击）；
3.从命令行开始。

Mac:
- 转到并运行iTerm - 转到<sahi_root>\userdata\bin
- 运行“./start_dashboard.sh”

三、点击sahi仪表盘上的浏览器图标，打开浏览器

四、录制脚本：
1)启动选择的浏览器，输入网址，点击go按钮；
2)按住ALT键，鼠标左键双击浏览器窗口，就会弹出  sahi控制器，（如果不起作用，请按CTRL和ALT键，然后双击。）；
3)在控制器上，输入录制脚本的名称，然后点击“Record”按键；
4)然后回到浏览器界面，你在浏览器界面的一切操作都会以脚本的形式记录在sahi里；
5)结束录制，点击”Record”按键旁边的“stop”就可以停止录入脚本了。

五、插入断言
1)将鼠标移到任何html元素上，同时按CTRL键。(不用点击鼠标，只需要把鼠标移动到需要插入断言的网页元素上，同时按住ctrl键)；
2)“total”字段将被填充到“控制器”中。在这种情况下，让我们将鼠标悬停在“Grand Total”附近的文本字段中；
3)单击“Assert”按钮为元素生成断言；
4)它们将出现在“评估表达式”框中；
5)单击“Test - >”来检查断言是否为真。（测试结果不为true的断言脚本可以不要执行下一步，换个网页元素插入，直到test结果为真）；
6)一旦满足，点击“Append toscript”按键。这将把脚本添加到脚本中。

六、方法一：录制回放，先点击控制器上的“playback”
1.在“file：”字段中输入脚本名称（借助自动完成功能）。（记得要加上完整的文件后缀）
2.输入起始网址。
3.对于您自己的脚本，如果您现在已经打开了相关网址，你可以不用填入地址，去掉勾选“star URL”，点击“play”的时候会自动填入地址。

方法二：通过命令运行测试
1.点击仪表板上的“Bin”链接。这将打开一个命令窗口在sahi / userdata / bin
（或打开一个命令提示符并cd到sahi / userdata /bin）
2.输入“testrunner”命令提示符，回车
3.这将显示一个选项列表。
4.复制.sah文件的第二个命令，并更改脚本名称并启动URL
5.要在多个浏览器上同时播放，请运行
7.查看日志点击图片上控制器右下角的“log”就可以查看日志
8.打开和编辑录制的脚本

1. 打开控制器—recored，右下角的“script editor”

2.编辑录制的脚本步骤，从我们记录的步骤中创建良好命名的函数。（以下举个栗子）

1.选择与登录有关的语句

2.点击“create function”

3.给该函数命名，在这种情况下为'login'

4.如果需要，编辑功能参数名称

5.点击继续。这将创建一个函数，然后使用正确的参数调用它

3.补充下这样便捷创建脚本的好处

a.运行此脚本并查看日志。现在的日志看起来很好地折叠在功能级别。
b. 此脚本可以进一步分为两个脚本，一个具有函数定义(图一)，另一个仅包含调用代码(图二)。图二可以直接调用图一的函数，添加具体的参数，直接得出结果。



